<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en"><head>


      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Including additional properties in WebDAV PROPFIND/allprop requests</title>
   <style type="text/css" title="Xml2Rfc (sans serif)">
a {
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}

body {
  
  color: #000000;
  font-family: verdana, helvetica, arial, sans-serif;
  font-size: 10pt;
}
cite {
  font-style: normal;
}
dl {
  margin-left: 2em;
}

dl.empty dd {
  margin-top: .5em;
}
dt {
  margin-top: .5em;
}
h1 {
  color: #333333;
  font-size: 14pt;
  line-height: 21pt;
  page-break-after: avoid;
}
h1.np {
  page-break-before: always;
}
h1 a {
  color: #333333;
}
h2 {
  color: #000000;
  font-size: 12pt;
  line-height: 15pt;
  page-break-after: avoid;
}
h2 a {
  color: #000000;
}
h3 {
  color: #000000;
  font-size: 10pt;
  page-break-after: avoid;
}
h3 a {
  color: #000000;
}
h4 {
  color: #000000;
  font-size: 10pt;
  page-break-after: avoid;
}
h4 a {
  color: #000000;
}
h5 {
  color: #000000;
  font-size: 10pt;
  page-break-after: avoid;
}
h5 a {
  color: #000000;
}
img {
  margin-left: 3em;
}
li {
  margin-left: 2em;
  margin-right: 2em;
}
ol {
  margin-left: 2em;
  margin-right: 2em;
}
p {
  margin-left: 2em;
  margin-right: 2em;
}
pre {
  margin-left: 3em;
  background-color: lightyellow;
  padding: .25em;
}
pre.text2 {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
  width: 69em;
}
pre.inline {
  background-color: white;
  padding: 0em;
}
pre.text {
  border-style: dotted;
  border-width: 1px;
  background-color: #f8f8f8;
  width: 69em;
}
pre.drawing {
  border-style: solid;
  border-width: 1px;
  background-color: #f8f8f8;
  padding: 2em;
}

table {
  margin-left: 2em;
}

table.header {
  width: 95%;
  font-size: 10pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap; 
}
td.front {
  background-color: gray;
  width: 50%;
}
thead {
  display:table-header-group;
}
ul.toc {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.tocline0 {
  line-height: 150%;
  font-weight: bold;
  font-size: 10pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline1 {
  line-height: normal;
  font-weight: normal;
  font-size: 9pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline2 {
  font-size: 0pt;
}
ul.ind {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.indline0 {
  font-weight: bold;
  line-height: 200%;
  margin-left: 0em;
  margin-right: 0em;
}
li.indline1 {
  font-weight: normal;
  line-height: 150%;
  margin-left: 0em;
  margin-right: 0em;
}

.comment {
  background-color: yellow;
}

.center {
  text-align: center;
}
.error {
  font-size: 14pt;
  background-color: red;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 9pt;
}
.filename {
  color: #333333;
  font-weight: bold;
  font-size: 12pt;
  line-height: 21pt;
  text-align: center;
}
.fn {
  font-weight: bold;
}
.hidden {
  display: none;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.title {
  color: #990000;
  font-size: 18pt;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
  margin-top: 36pt;
}
.vcardline {
  display: block;
}
.warning {
  font-size: 14pt;
  background-color: yellow;
}

del {
  color: red;
  text-decoration: line-through;
}
.del {
  color: red;
  text-decoration: line-through;
}
ins {
  color: green;
  text-decoration: underline;
}
.ins {
  color: green;
  text-decoration: underline;
}
div.issuepointer {
  float: left;
}

table.openissue {
  background-color: khaki;
  border-width: thin;
  border-style: solid;
  border-color: black;
}
table.closedissue {
  background-color: white;
  border-width: thin;
  border-style: solid;
  border-color: gray;
  color: gray; 
}
.bg-issue {
  border: solid;
  border-width: 1px;
  font-size: 7pt;
}
.closed-issue {
  border: solid;
  border-width: thin;
  background-color: lime;
  font-size: smaller;
  font-weight: bold;
}
.open-issue {
  border: solid;
  border-width: thin;
  background-color: red;
  font-size: smaller;
  font-weight: bold;
}
.editor-issue {
  border: solid;
  border-width: thin;
  background-color: yellow;
  font-size: smaller;
  font-weight: bold;
}


@media print {
  .noprint {
    display: none;
  }
  
  table.header {
    width: 90%;
  }

  td.header-l {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 10pt;
  }

  td.header-r {
    width: 33%;
    color: black;
    background-color: white;
    vertical-align: top;
    text-align: right;
    font-size: 10pt;
  }

  ul.toc a::after {
    content: leader('.') target-counter(attr(href), page);
  }
  
  a.iref {
    content: target-counter(attr(href), page);
  }
  
  .print2col {
    column-count: 2;
    -moz-column-count: 2;
  }
}

@page {
  @top-left {
       content: "INTERNET DRAFT"; 
  } 
  @top-right {
       content: "January 2006"; 
  } 
  @top-center {
       content: "WebDAV PROPFIND/allprop/include"; 
  } 
  @bottom-left {
       content: "Reschke & Eissing"; 
  } 
  @bottom-center {
       content: "Informational"; 
  } 
  @bottom-right {
       content: "[Page " counter(page) "]"; 
  } 
}

@page:first { 
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Contents" href="#rfc.toc"><link rel="Author" href="#rfc.authors"><link rel="Copyright" href="#rfc.copyright"><link rel="Chapter" title="1 Notational Conventions" href="#rfc.section.1"><link rel="Chapter" title="2 Introduction" href="#rfc.section.2"><link rel="Chapter" title="3 Extensions to PROPFIND/allprop" href="#rfc.section.3"><link rel="Chapter" title="4 Changes to WebDAV DTD" href="#rfc.section.4"><link rel="Chapter" title="5 Compatibility Considerations" href="#rfc.section.5"><link rel="Chapter" title="6 Internationalization Considerations" href="#rfc.section.6"><link rel="Chapter" title="7 IANA Considerations" href="#rfc.section.7"><link rel="Chapter" href="#rfc.section.8" title="8 References"><link rel="Appendix" title="A Alternate syntax proposal from interim WebDAV working group meeting" href="#rfc.section.A"><link rel="Appendix" title="B Change Log (to be removed by RFC Editor before publication)" href="#rfc.section.B"><link rel="up" href="http://greenbytes.de/tech/webdav/#draft-reschke-webdav-allprop-include"><link rel="prev" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-07.html"><link rel="Bookmark" title="IETF WEBDAV Working Group" href="http://ftp.ics.uci.edu/pub/ietf/webdav/"><link rel="Alternate" title="(latest)" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-latest.html"><link rel="Alternate" title="draft 07" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-07.html"><link rel="Alternate" title="draft 06" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-06.html"><link rel="Alternate" title="draft 05" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-05.html"><link rel="Alternate" title="draft 04" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-04.html"><link rel="Alternate" title="draft 03" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-03.html"><link rel="Alternate" title="draft 02" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-02.html"><link rel="Alternate" title="draft 01" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-01.html"><link rel="Alternate" title="draft 00" href="http://greenbytes.de/tech/webdav/draft-reschke-allprop-include-00.html"><meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.307, 2006/12/16 12:12:10, XSLT vendor: SAXON 6.5.3 from Michael Kay http://saxon.sf.net/"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.Creator" content="Reschke, J. F."><meta name="DC.Creator" content="Eissing, S."><meta name="DC.Identifier" content="urn:ietf:id:draft-reschke-webdav-allprop-include-latest"><meta name="DC.Date.Issued" scheme="ISO8601" content="2006-01"><meta name="DC.Description.Abstract" content="Recent specifications extending the Web Distributed Authoring Protocol (WebDAV) restrict the set of properties returned automatically upon a PROPFIND/allprop request. This specification defines a method to add specific properties to the set of properties returned upon PROPFIND/allprop."></head><body><table summary="header information" class="header" border="0" cellpadding="1" cellspacing="1"><tbody><tr><td class="front left">Network Working Group</td><td class="front right">J. F. Reschke, Editor</td></tr><tr><td class="front left">Internet Draft</td><td class="front right">S. Eissing</td></tr><tr><td class="front left">
        &lt;draft-reschke-webdav-allprop-include-latest&gt;
      </td><td class="front right">greenbytes</td></tr><tr><td class="front left">Intended status: Informational</td><td class="front right">January 2006</td></tr><tr><td class="front left">Expires: July 2006</td><td class="front right"></td></tr></tbody></table><p class="title">Including additional properties in WebDAV PROPFIND/allprop requests<br><span class="filename">draft-reschke-webdav-allprop-include-latest</span></p><h1><a id="rfc.status" href="#rfc.status">Status of this Memo</a></h1><p>By
submitting this Internet-Draft, each author represents that any
applicable patent or other IPR claims of which he or she is aware have
been or will be disclosed, and any of which he or she becomes aware
will be disclosed, in accordance with Section 6 of BCP 79.</p><p>Internet-Drafts
are working documents of the Internet Engineering Task Force (IETF),
its areas, and its working groups. Note that other groups may also
distribute working documents as Internet-Drafts.</p><p>Internet-Drafts
are draft documents valid for a maximum of six months and may be
updated, replaced, or obsoleted by other documents at any time. It is
inappropriate to use Internet-Drafts as reference material or to cite
them other than as &#8220;work in progress&#8221;.</p><p>The list of current Internet-Drafts can be accessed at &lt;<a href="http://www.ietf.org/ietf/1id-abstracts.txt">http://www.ietf.org/ietf/1id-abstracts.txt</a>&gt;.</p><p>The list of Internet-Draft Shadow Directories can be accessed at &lt;<a href="http://www.ietf.org/shadow.html">http://www.ietf.org/shadow.html</a>&gt;.</p><p>This Internet-Draft will expire in July 2006.</p><h1><a id="rfc.copyrightnotice" href="#rfc.copyrightnotice">Copyright Notice</a></h1><p>Copyright © The Internet Society (2006). All Rights Reserved.</p><h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1><p>Recent
specifications extending the Web Distributed Authoring Protocol
(WebDAV) restrict the set of properties returned automatically upon a
PROPFIND/allprop request. This specification defines a method to add
specific properties to the set of properties returned upon
PROPFIND/allprop.</p> <h1 id="rfc.note.1"><a href="#rfc.note.1">Editorial Note (to be removed by RFC Editor before publication)</a></h1> <p>Distribution of this document is unlimited. Please send comments to the WebDAV working group at &lt;<a href="mailto:w3c-dist-auth@w3.org">mailto:w3c-dist-auth@w3.org</a>&gt;, which may be joined by sending a message with subject "subscribe" to &lt;<a href="mailto:w3c-dist-auth-request@w3.org">mailto:w3c-dist-auth-request@w3.org</a>&gt;. Discussions of the WEBDAV working group are archived at &lt;<a href="http://lists.w3.org/Archives/Public/w3c-dist-auth/">http://lists.w3.org/Archives/Public/w3c-dist-auth/</a>&gt;.</p>  <p>XML and HTML versions of this draft are available from &lt;<a href="http://greenbytes.de/tech/webdav/#draft-reschke-webdav-allprop-include">http://greenbytes.de/tech/webdav/#draft-reschke-webdav-allprop-include</a>&gt;.</p> <hr class="noprint"><h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1><ul class="toc"><li class="tocline0">1.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.1">Notational Conventions</a></li><li class="tocline0">2.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.2">Introduction</a></li><li class="tocline0">3.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.3">Extensions to PROPFIND/allprop</a><ul class="toc"><li class="tocline1">3.1&nbsp;&nbsp;&nbsp;<a href="#example">Example for PROPFIND/allprop/include with extended server</a></li><li class="tocline1">3.2&nbsp;&nbsp;&nbsp;<a href="#example-old">Example for PROPFIND/allprop/include with non-extended server</a></li></ul></li><li class="tocline0">4.&nbsp;&nbsp;&nbsp;<a href="#dtd">Changes to WebDAV DTD</a></li><li class="tocline0">5.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5">Compatibility Considerations</a></li><li class="tocline0">6.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.6">Internationalization Considerations</a></li><li class="tocline0">7.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.7">IANA Considerations</a></li><li class="tocline0">8.&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul class="toc"><li class="tocline1">8.1&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li><li class="tocline1">8.2&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li></ul></li><li class="tocline0"><a href="#rfc.authors">Authors' Addresses</a></li><li class="tocline0">A.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.A">Alternate syntax proposal from interim WebDAV working group meeting</a><ul class="toc"><li class="tocline1">A.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.A.1">PROPFIND/prop extension to include dead properties</a></li><li class="tocline1">A.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.A.2">Example</a></li><li class="tocline1">A.3&nbsp;&nbsp;&nbsp;<a href="#rfc.section.A.3">Analysis</a></li></ul></li><li class="tocline0">B.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B">Change Log (to be removed by RFC Editor before publication)</a><ul class="toc"><li class="tocline1">B.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.1">Since 'draft-reschke-webdav-allprop-include-00'</a></li><li class="tocline1">B.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.2">Since 'draft-reschke-webdav-allprop-include-01'</a></li><li class="tocline1">B.3&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.3">Since 'draft-reschke-webdav-allprop-include-02'</a></li><li class="tocline1">B.4&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.4">Since 'draft-reschke-webdav-allprop-include-03'</a></li><li class="tocline1">B.5&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.5">Since 'draft-reschke-webdav-allprop-include-04'</a></li><li class="tocline1">B.6&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.6">Since 'draft-reschke-webdav-allprop-include-05'</a></li><li class="tocline1">B.7&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.7">Since 'draft-reschke-webdav-allprop-include-06'</a></li><li class="tocline1">B.8&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.8">Since 'draft-reschke-webdav-allprop-include-07'</a></li></ul></li><li class="tocline0"><a href="#rfc.ipr">Intellectual Property and Copyright Statements</a></li></ul><h2><a id="rfc.issues-list" href="#rfc.issues-list">Issues list</a></h2><table summary="Issues list"><tbody><tr><td><a href="#rfc.issue.edit">edit</a></td><td>edit</td><td>open</td><td>2005-01-01</td><td><a href="mailto:julian.reschke@greenbytes.de?subject=draft-reschke-webdav-allprop-include-latest,%20edit">julian.reschke@greenbytes.de</a></td></tr></tbody></table><table summary="issue edit" class="openissue"><tbody><tr><td colspan="3"><a id="rfc.issue.edit" class="open-issue">&nbsp;I&nbsp;</a>&nbsp;<em>edit</em>
        &nbsp;
        (type: edit, status: open)
      </td></tr><tr><td class="top"><a href="mailto:julian.reschke@greenbytes.de?subject=draft-reschke-webdav-allprop-include-latest,%20edit"><i>julian.reschke@greenbytes.de</i></a></td><td class="topnowrap">2005-01-01</td><td class="top">
    Umbrella issue for editorial fixes/enhancements.
  </td></tr><tr><td class="top" colspan="3">
          Associated changes in this document:
          <a href="#rfc.change.edit.1">B</a>.</td></tr></tbody></table><h1 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;Notational Conventions</h1><p id="rfc.section.1.p.1">The
key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in <a href="#RFC2119"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.</p><h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;Introduction</h1><p id="rfc.section.2.p.1">Recent specifications extending the "Web Distributed Authoring Protocol" (WebDAV, <a href="#RFC2518"><cite title="HTTP Extensions for Distributed Authoring -- WEBDAV">[RFC2518]</cite></a>) like "Versioning Extensions to WebDAV" <a href="#RFC3253"><cite title="Versioning Extensions to WebDAV">[RFC3253]</cite></a> and "WebDAV Access Control Protocol" <a href="#RFC3744"><cite title="Web Distributed Authoring and Versioning (WebDAV) Access Control Protocol">[RFC3744]</cite></a>
restrict the set of properties returned automatically upon a
PROPFIND/allprop request in order to avoid the expensive computation of
properties that the client in many cases isn't interested in.</p><p id="rfc.section.2.p.2">However,
this change from the behaviour defined in WebDAV can lead to situations
where clients need to perform two requests to retrieve all properties
they are interested in (one using PROPFIND/allprop, then PROPFIND/prop
enumerating the new properties that weren't reported upon the first
request). This specification defines a backward-compatible extension to
add specific properties to the set of properties returned upon
PROPFIND/allprop, thus saving at least one PROPFIND request.</p><p id="rfc.section.2.p.3">This
document defines an extension element that could ultimately become part
of the core WebDAV protocol. Being just an individual submission, it
currently defines it in the proprietary namespace</p><div id="rfc.figure.u.1"></div><pre>  http://sapportals.com/xmlns/cm/webdav
</pre><p id="rfc.section.2.p.5">instead of the "DAV:" namespace. It
uses a prefix of "in:" for referring to elements in this namespace.
However, WebDAV server and clients are free to use any prefix, provided
that there is a namespace declaration that binds the prefix to the URI
of the same namespace.</p><h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;Extensions to PROPFIND/allprop</h1><p id="rfc.section.3.p.1">The
"allprop" version of PROPFIND is extended to take an optional
in:include element. When present, it contains a set of property names
that shall be reported in addition to those properties that the server
usually would return upon PROPFIND/allprop.</p><h2 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1</a>&nbsp;<a id="example" href="#example">Example for PROPFIND/allprop/include with extended server</a></h2><div id="rfc.figure.u.2"></div><p>&gt;&gt;Request</p>  <pre>PROPFIND  /container/front.html HTTP/1.1
Host: www.example.org
Depth: 1
Content-Type: text/xml; charset="utf-8"
Content-Length: xxxx

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;propfind xmlns="DAV:"
  xmlns:in="http://sapportals.com/xmlns/cm/webdav"&gt;
  &lt;allprop/&gt;
  &lt;in:include&gt;
    &lt;checked-in/&gt;
    &lt;checked-out/&gt;
  &lt;/in:include&gt;
&lt;/propfind&gt;
</pre><div id="rfc.figure.u.3"></div><p>&gt;&gt;Response</p>  <pre>HTTP/1.1 207 Multi-Status
Content-Type: text/xml; charset="utf-8"
Content-Length: xxxx

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;multistatus xmlns="DAV:"&gt;
  &lt;response&gt;
    &lt;href&gt;http://www.example.org/container/front.html&lt;/href&gt;
    &lt;propstat&gt;
      &lt;prop&gt;
        &lt;R:bigbox xmlns:R="http://www.example.org/boxschema/"&gt;
          &lt;R:BoxType&gt;Box type B&lt;/R:BoxType&gt;
        &lt;/R:bigbox&gt;
        &lt;creationdate&gt;1997-12-01T18:27:21-08:00&lt;/creationdate&gt;
        &lt;displayname&gt;Example HTML resource&lt;/displayname&gt;
        &lt;getcontentlength&gt;4525&lt;/getcontentlength&gt;
        &lt;getcontenttype&gt;text/html&lt;/getcontenttype&gt;
        &lt;getetag&gt;zzyzx&lt;/getetag&gt;
        &lt;getlastmodified
        &gt;Monday, 12-Jan-98 09:25:56 GMT&lt;/getlastmodified&gt;
        &lt;resourcetype/&gt;
        &lt;supportedlock&gt;
          &lt;lockentry&gt;
            &lt;lockscope&gt;&lt;exclusive/&gt;&lt;/lockscope&gt;
            &lt;locktype&gt;&lt;write/&gt;&lt;/locktype&gt;
          &lt;/lockentry&gt;
          &lt;lockentry&gt;
            &lt;lockscope&gt;&lt;shared/&gt;&lt;/lockscope&gt;
            &lt;locktype&gt;&lt;write/&gt;&lt;/locktype&gt;
          &lt;/lockentry&gt;
        &lt;/supportedlock&gt;
        &lt;checked-in&gt;
          &lt;href
          &gt;http://www.example.org/vsn/container/front.html-1&lt;/href&gt;
        &lt;/checked-in&gt;
      &lt;/prop&gt;
      &lt;status&gt;HTTP/1.1 200 OK&lt;/status&gt;
    &lt;/propstat&gt;
    &lt;propstat&gt;
      &lt;prop&gt;
        &lt;checked-out/&gt;
      &lt;/prop&gt;
      &lt;status&gt;HTTP/1.1 404 NOT FOUND&lt;/status&gt;
    &lt;/propstat&gt;
  &lt;/response&gt;
&lt;/multistatus&gt;
</pre><p id="rfc.section.3.1.p.3">In this example, the server has
recognized the extension element in:include and included the properties
DAV:checked-in and DAV:checked-out (as defined in <a href="#RFC3253"><cite title="Versioning Extensions to WebDAV">[RFC3253]</cite></a>).</p><h2 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2</a>&nbsp;<a id="example-old" href="#example-old">Example for PROPFIND/allprop/include with non-extended server</a></h2><div id="rfc.figure.u.4"></div><p>&gt;&gt;Request</p>  <pre>PROPFIND  /container/front.html HTTP/1.1
Host: www.example.org
Depth: 1
Content-Type: text/xml; charset="utf-8"
Content-Length: xxxx

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;propfind xmlns="DAV:"
  xmlns:in="http://sapportals.com/xmlns/cm/webdav"&gt;
  &lt;allprop/&gt;
  &lt;in:include&gt;
    &lt;checked-in/&gt;
    &lt;checked-out/&gt;
  &lt;/in:include&gt;
&lt;/propfind&gt;
</pre><div id="rfc.figure.u.5"></div><p>&gt;&gt;Response</p>  <pre>HTTP/1.1 207 Multi-Status
Content-Type: text/xml; charset="utf-8"
Content-Length: xxxx

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;multistatus xmlns="DAV:"&gt;
  &lt;response&gt;
    &lt;href&gt;http://www.example.org/container/front.html&lt;/href&gt;
    &lt;propstat&gt;
      &lt;prop&gt;
        &lt;R:bigbox xmlns:R="http://www.example.org/boxschema/"&gt;
          &lt;R:BoxType&gt;Box type B&lt;/R:BoxType&gt;
        &lt;/R:bigbox&gt;
        &lt;creationdate&gt;1997-12-01T18:27:21-08:00&lt;/creationdate&gt;
        &lt;displayname&gt;Example HTML resource&lt;/displayname&gt;
        &lt;getcontentlength&gt;4525&lt;/getcontentlength&gt;
        &lt;getcontenttype&gt;text/html&lt;/getcontenttype&gt;
        &lt;getetag&gt;zzyzx&lt;/getetag&gt;
        &lt;getlastmodified
        &gt;Monday, 12-Jan-98 09:25:56 GMT&lt;/getlastmodified&gt;
        &lt;resourcetype/&gt;
        &lt;supportedlock&gt;
          &lt;lockentry&gt;
            &lt;lockscope&gt;&lt;exclusive/&gt;&lt;/lockscope&gt;
            &lt;locktype&gt;&lt;write/&gt;&lt;/locktype&gt;
          &lt;/lockentry&gt;
          &lt;lockentry&gt;
            &lt;lockscope&gt;&lt;shared/&gt;&lt;/lockscope&gt;
            &lt;locktype&gt;&lt;write/&gt;&lt;/locktype&gt;
           &lt;/lockentry&gt;
         &lt;/supportedlock&gt;
      &lt;/prop&gt;
      &lt;status&gt;HTTP/1.1 200 OK&lt;/status&gt;
    &lt;/propstat&gt;
  &lt;/response&gt;
&lt;/multistatus&gt;
</pre><p id="rfc.section.3.2.p.3">In this case the in:include element
was simply ignored. The client can detect this situation by checking
for the presence of the requested properties and will have to issue an
additional PROPFIND/prop request (to retrieve the missing properties).</p><h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a id="dtd" href="#dtd">Changes to WebDAV DTD</a></h1><div id="rfc.figure.u.6"></div><pre>&lt;!ELEMENT propfind ((allprop, in:include+) | propname | prop) &gt;
&lt;!ELEMENT in:include ANY &gt;
</pre><p id="rfc.section.4.p.2">Note that the WebDAV DTD is informal
only and cannot be used to validate request or response bodies (due to
the inability to properly work with XML namespaces).</p><h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;Compatibility Considerations</h1><p id="rfc.section.5.p.1">This specification introduces a new child element for the DAV:propfind element, defined in <a href="#dtd" title="Changes to WebDAV DTD">Section&nbsp;4</a>. Old servers will ignore this element (see <a href="#RFC2518"><cite title="HTTP Extensions for Distributed Authoring -- WEBDAV">[RFC2518]</cite></a>, chapter 14). Clients can detect this situation as outlined in <a href="#example-old" title="Example for PROPFIND/allprop/include with non-extended server">Section&nbsp;3.2</a>.</p><p id="rfc.section.5.p.2">Clients
not aware of this specification will not be affected at all, because
they will never use the new in:include element in PROPFIND requests.</p><h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;Internationalization Considerations</h1><p id="rfc.section.6.p.1">This proposal builds on <a href="#RFC2518"><cite title="HTTP Extensions for Distributed Authoring -- WEBDAV">[RFC2518]</cite></a>, and inherits its internationalizability.</p><h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;IANA Considerations</h1><p id="rfc.section.7.p.1">This
proposal does not introduce any new IANA considerations, since it does
not specify any new namespaces (in the general sense), but merely uses
existing ones.</p><h1 id="rfc.references"><a id="rfc.section.8" href="#rfc.section.8">8.</a> References</h1><h2 id="rfc.references.1"><a href="#rfc.section.8.1">8.1</a> Normative References</h2><table summary="Normative References" border="0" cellpadding="2"> <tbody><tr><td class="topnowrap"><b id="RFC2119">[RFC2119]</b></td><td class="top"><a href="mailto:-" title="Harvard University">Bradner, S.</a>, &#8220;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>&#8221;, BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr>  <tr><td class="topnowrap"><b id="RFC2518">[RFC2518]</b></td><td class="top"><a href="mailto:yarong@microsoft.com" title="Microsoft Corporation">Goland, Y.</a>, <a href="mailto:ejw@ics.uci.edu" title="Dept. Of Information and Computer Science, University of California, Irvine">Whitehead, E.</a>, <a href="mailto:asad@netscape.com" title="Netscape">Faizi, A.</a>, <a href="mailto:srcarter@novell.com" title="Novell">Carter, S.R.</a>, and <a href="mailto:dcjensen@novell.com" title="Novell">D. Jensen</a>, &#8220;<a href="http://tools.ietf.org/html/rfc2518">HTTP Extensions for Distributed Authoring -- WEBDAV</a>&#8221;, RFC&nbsp;2518, February&nbsp;1999.</td></tr>  <tr><td class="topnowrap"><b id="RFC3253">[RFC3253]</b></td><td class="top"><a href="mailto:geoffrey.clemm@rational.com" title="Rational Software">Clemm, G.</a>, <a href="mailto:jamsden@us.ibm.com" title="IBM">Amsden, J.</a>, <a href="mailto:tim_ellison@uk.ibm.com" title="IBM">Ellison, T.</a>, <a href="mailto:ckaler@microsoft.com" title="Microsoft">Kaler, C.</a>, and <a href="mailto:ejw@cse.ucsc.edu" title="UC Santa Cruz, Dept. of Computer Science">J. Whitehead</a>, &#8220;<a href="http://tools.ietf.org/html/rfc3253">Versioning Extensions to WebDAV</a>&#8221;, RFC&nbsp;3253, March&nbsp;2002.</td></tr> </tbody></table><h2 id="rfc.references.2"><a href="#rfc.section.8.2">8.2</a> Informative References</h2><table summary="Informative References" border="0" cellpadding="2"> <tbody><tr><td class="topnowrap"><b id="RFC3744">[RFC3744]</b></td><td class="top"><a href="mailto:geoffrey.clemm@us.ibm.com" title="IBM">Clemm, G.</a>, <a href="mailto:julian.reschke@greenbytes.de" title="greenbytes GmbH">Reschke, J. F.</a>, <a href="mailto:eric.sedlar@oracle.com" title="Oracle Corporation">Sedlar, E.</a>, and <a href="mailto:ejw@cse.ucsc.edu" title="U.C. Santa Cruz, Dept. of Computer Science">J. Whitehead</a>, &#8220;<a href="http://tools.ietf.org/html/rfc3744">Web Distributed Authoring and Versioning (WebDAV) Access Control Protocol</a>&#8221;, RFC&nbsp;3744, May&nbsp;2004.</td></tr>  <tr><td class="topnowrap"><b id="draft-ietf-webdav-rfc2518bis">[draft-ietf-webdav-rfc2518bis]</b></td><td class="top"><a href="mailto:lisa@osafoundation.org" title="Open Source Application Foundation">Dusseault, L.</a>, &#8220;<a href="http://greenbytes.de/tech/webdav/draft-ietf-webdav-rfc2518bis-10.html">HTTP Extensions for Distributed Authoring - WebDAV RFC2518 bis</a>&#8221;, Internet-Draft&nbsp;draft-ietf-webdav-rfc2518bis-10 (work in progress), December&nbsp;2005, &lt;<a href="http://greenbytes.de/tech/webdav/draft-ietf-webdav-rfc2518bis-10.html">http://greenbytes.de/tech/webdav/draft-ietf-webdav-rfc2518bis-10.html</a>&gt;.</td></tr> </tbody></table><h1 id="rfc.authors">Authors' Addresses</h1><address class="vcard"><span class="vcardline"><span class="fn">Julian F. Reschke</span>
          (editor)
        <span class="n hidden"><span class="family-name">Reschke</span><span class="given-name">Julian F.</span></span></span><span class="org vcardline">greenbytes GmbH</span><span class="adr"><span class="street-address vcardline">Hafenweg 16</span><span class="vcardline"><span class="locality">Muenster</span>, <span class="region">NW</span>&nbsp;<span class="postal-code">48155</span></span><span class="country-name vcardline">Germany</span></span><span class="vcardline tel">Phone: <a href="tel:+492512807760"><span class="value">+49 251 2807760</span></a></span><span class="vcardline tel"><span class="type">Fax</span>: <a href="fax:+492512807761"><span class="value">+49 251 2807761</span></a></span><span class="vcardline">EMail: <a href="mailto:julian.reschke@greenbytes.de"><span class="email">julian.reschke@greenbytes.de</span></a></span><span class="vcardline">URI: <a href="http://greenbytes.de/tech/webdav/" class="url">http://greenbytes.de/tech/webdav/</a></span></address><address class="vcard"><span class="vcardline"><span class="fn">Stefan Eissing</span><span class="n hidden"><span class="family-name">Eissing</span><span class="given-name">Stefan</span></span></span><span class="org vcardline">greenbytes GmbH</span><span class="adr"><span class="street-address vcardline">Hafenweg 16</span><span class="vcardline"><span class="locality">Muenster</span>, <span class="region">NW</span>&nbsp;<span class="postal-code">48155</span></span><span class="country-name vcardline">Germany</span></span><span class="vcardline tel">Phone: <a href="tel:+492512807760"><span class="value">+49 251 2807760</span></a></span><span class="vcardline tel"><span class="type">Fax</span>: <a href="fax:+492512807761"><span class="value">+49 251 2807761</span></a></span><span class="vcardline">EMail: <a href="mailto:stefan.eissing@greenbytes.de"><span class="email">stefan.eissing@greenbytes.de</span></a></span><span class="vcardline">URI: <a href="http://greenbytes.de/tech/webdav/" class="url">http://greenbytes.de/tech/webdav/</a></span></address><h1 id="rfc.section.A"><a href="#rfc.section.A">A.</a>&nbsp;Alternate syntax proposal from interim WebDAV working group meeting</h1><p id="rfc.section.A.p.1">This
section briefly describes an alternate approach to the problem covered
by this draft. It was discussed during the interim WebDAV working group
meeting in January 2003 and was supported by all meeting attendees. It
was also added to the draft for the revision of <a href="#RFC2518"><cite title="HTTP Extensions for Distributed Authoring -- WEBDAV">[RFC2518]</cite></a>, <a href="#draft-ietf-webdav-rfc2518bis"><cite title="HTTP Extensions for Distributed Authoring - WebDAV RFC2518 bis">[draft-ietf-webdav-rfc2518bis]</cite></a>.</p><h2 id="rfc.section.A.1"><a href="#rfc.section.A.1">A.1</a>&nbsp;PROPFIND/prop extension to include dead properties</h2><p id="rfc.section.A.1.p.1">Additional PROPFIND marshalling: </p><dl class="empty"><dd><div id="rfc.figure.u.7"></div> <pre>&lt;!ELEMENT propfind (allprop | propname | (prop, dead-props?)) &gt;
&lt;!ELEMENT dead-props EMPTY &gt;
</pre> </dd></dl><p id="rfc.section.A.1.p.2">The DAV:dead-props element
can be added to PROPFIND requests that retrieve named properties using
DAV:prop. When present, the server MUST include all dead properties
defined on the resource.</p><h2 id="rfc.section.A.2"><a href="#rfc.section.A.2">A.2</a>&nbsp;Example</h2><p id="rfc.section.A.2.p.1">This example shows the alternate syntax applied to the example from <a href="#example" title="Example for PROPFIND/allprop/include with extended server">Section&nbsp;3.1</a>.</p><div id="rfc.figure.u.8"></div><p>&gt;&gt;Request</p>  <pre>PROPFIND  /container/front.html HTTP/1.1
Host: www.example.org
Depth: 1
Content-Type: text/xml; charset="utf-8"
Content-Length: xxxx

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;propfind xmlns="DAV:"&gt;
  &lt;prop&gt;
    &lt;checked-in /&gt;
    &lt;checked-out /&gt;  
  &lt;/prop&gt;
  &lt;dead-props /&gt;
&lt;/propfind&gt;
</pre><div id="rfc.figure.u.9"></div><p>&gt;&gt;Response</p>  <pre>HTTP/1.1 207 Multi-Status
Content-Type: text/xml; charset="utf-8"
Content-Length: xxxx

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;multistatus xmlns="DAV:"&gt;
  &lt;response&gt;
    &lt;href&gt;http://www.example.org/container/front.html&lt;/href&gt;
    &lt;propstat&gt;
      &lt;prop&gt;
        &lt;R:bigbox xmlns:R="http://www.example.org/boxschema/"&gt;
          &lt;R:BoxType&gt;Box type B&lt;/R:BoxType&gt;
        &lt;/R:bigbox&gt;
        &lt;checked-in&gt;
          &lt;href
          &gt;http://www.example.org/vsn/container/front.html-1&lt;/href&gt;
        &lt;/checked-in&gt;
      &lt;/prop&gt;
      &lt;status&gt;HTTP/1.1 200 OK&lt;/status&gt;
    &lt;/propstat&gt;
    &lt;propstat&gt;
      &lt;prop&gt;
        &lt;checked-out/&gt;
      &lt;/prop&gt;
      &lt;status&gt;HTTP/1.1 404 NOT FOUND&lt;/status&gt;
    &lt;/propstat&gt;
  &lt;/response&gt;
&lt;/multistatus&gt;
</pre><h2 id="rfc.section.A.3"><a href="#rfc.section.A.3">A.3</a>&nbsp;Analysis</h2><p id="rfc.section.A.3.p.1">At
first glance, this extension seems to have equivalent semantics. On
closer inspection, it doesn't provide the client any means to actually
find out whether the remote server understood the extension (it can't
distinguish between "server does not now about "dead-props", and "there
are no dead properties on the resource").</p><h1 id="rfc.section.B"><a href="#rfc.section.B">B.</a>&nbsp;Change Log (to be removed by RFC Editor before publication)</h1><h2 id="rfc.section.B.1"><a href="#rfc.section.B.1">B.1</a>&nbsp;Since 'draft-reschke-webdav-allprop-include-00'</h2><p id="rfc.section.B.1.p.1">Moved &lt;include&gt; element out of "DAV:" namespace.<br> Updated reference to deltaV (now RFC3253).<br> Changed examples to explicitly use utf-8 encoding for HTTP content type and XML encoding.<br> Updated WebDAV ACL reference to draft 07.<br> Made sure figures fit in 72 columns.<br> Split references into "Normative" and "Informative".</p><h2 id="rfc.section.B.2"><a href="#rfc.section.B.2">B.2</a>&nbsp;Since 'draft-reschke-webdav-allprop-include-01'</h2><p id="rfc.section.B.2.p.1">Updated WebDAV ACL reference to draft 09.<br> </p><h2 id="rfc.section.B.3"><a href="#rfc.section.B.3">B.3</a>&nbsp;Since 'draft-reschke-webdav-allprop-include-02'</h2><p id="rfc.section.B.3.p.1">Fixed XML errors in examples (wrong closing href tags).<br> Replaced domain names in examples according to RFC2606: "www.foo.bar" by "www.example.org".<br> Shortened checked-in URI to fit into 72 characters in example.</p><h2 id="rfc.section.B.4"><a href="#rfc.section.B.4">B.4</a>&nbsp;Since 'draft-reschke-webdav-allprop-include-03'</h2><p id="rfc.section.B.4.p.1">Added short description of alternate syntax discussed during interim WebDAV WG meeting (January 2003).</p><h2 id="rfc.section.B.5"><a href="#rfc.section.B.5">B.5</a>&nbsp;Since 'draft-reschke-webdav-allprop-include-04'</h2><p id="rfc.section.B.5.p.1">DTD
fix for dead-props variant. Remove superfluous IP and copyright
sections. Added reference to RFC2518bis. Updated reference to ACL draft.</p><h2 id="rfc.section.B.6"><a href="#rfc.section.B.6">B.6</a>&nbsp;Since 'draft-reschke-webdav-allprop-include-05'</h2><p id="rfc.section.B.6.p.1">Updated various references. Update abstract.</p><h2 id="rfc.section.B.7"><a href="#rfc.section.B.7">B.7</a>&nbsp;Since 'draft-reschke-webdav-allprop-include-06'</h2><p id="rfc.section.B.7.p.1">Updated RFC2518bis reference. Author's address updated. Added analysis of shortcomings of the RFC2518bis approach.</p><div class="issuepointer noprint" id="rfc.change.edit.1"><a class="open-issue" href="#rfc.issue.edit" title="resolves: edit">&nbsp;I&nbsp;</a>&nbsp;</div><ins datetime="2005-12-17"> <h2 id="rfc.section.B.8" class="ins"><a href="#rfc.section.B.8">B.8</a>&nbsp;Since 'draft-reschke-webdav-allprop-include-07'</h2><p class="ins">Updated RFC2518bis reference.</p> </ins><h1><a id="rfc.copyright" href="#rfc.copyright">Full Copyright Statement</a></h1><p>Copyright © The Internet Society (2006).</p><p>This
document is subject to the rights, licenses and restrictions contained
in BCP 78, and except as set forth therein, the authors retain all
their rights.</p><p>This document and the information contained herein
are provided on an &#8220;AS IS&#8221; basis and THE CONTRIBUTOR, THE ORGANIZATION
HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND
THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</p><h1><a id="rfc.ipr" href="#rfc.ipr">Intellectual Property</a></h1><p>The
IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed to
pertain to the implementation or use of the technology described in
this document or the extent to which any license under such rights
might or might not be available; nor does it represent that it has made
any independent effort to identify any such rights. Information on the
procedures with respect to rights in RFC documents can be found in BCP
78 and BCP 79.</p><p>Copies of IPR disclosures made to the IETF
Secretariat and any assurances of licenses to be made available, or the
result of an attempt made to obtain a general license or permission for
the use of such proprietary rights by implementers or users of this
specification can be obtained from the IETF on-line IPR repository at
&lt;<a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>&gt;.</p><p>The
IETF invites any interested party to bring to its attention any
copyrights, patents or patent applications, or other proprietary rights
that may cover technology that may be required to implement this
standard. Please address the information to the IETF at <a href="mailto:ietf-ipr@ietf.org">ietf-ipr@ietf.org</a>.</p><h1>Acknowledgement</h1><p>Funding for the RFC Editor function is provided by the IETF Administrative Support Activity (IASA).</p></body></html>